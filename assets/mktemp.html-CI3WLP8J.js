import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,d as i,g as a,e as h,b as l,o as n}from"./app-CO1Kzx8P.js";const p={};function k(r,s){return n(),e("div",null,[s[0]||(s[0]=i("p",null,[a("Bash è„šæœ¬æœ‰æ—¶éœ€è¦åˆ›å»ºä¸´æ—¶æ–‡ä»¶æˆ–ä¸´æ—¶ç›®å½•ã€‚å¸¸è§çš„åšæ³•æ˜¯ï¼Œåœ¨ "),i("code",null,"/tmp"),a(" ç›®å½•é‡Œé¢åˆ›å»ºæ–‡ä»¶æˆ–ç›®å½•ï¼Œè¿™æ ·åšæœ‰å¾ˆå¤šå¼Šç«¯ï¼Œä½¿ç”¨ "),i("code",null,"mktemp"),a(" å‘½ä»¤æ˜¯æœ€å®‰å…¨çš„åšæ³•ã€‚")],-1)),h(" more "),s[1]||(s[1]=l(`<h2 id="ä¸´æ—¶æ–‡ä»¶çš„å®‰å…¨é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#ä¸´æ—¶æ–‡ä»¶çš„å®‰å…¨é—®é¢˜"><span>ä¸´æ—¶æ–‡ä»¶çš„å®‰å…¨é—®é¢˜</span></a></h2><p>ç›´æ¥åˆ›å»ºä¸´æ—¶æ–‡ä»¶ï¼Œå°¤å…¶åœ¨ <code>/tmp</code> ç›®å½•é‡Œé¢ï¼Œå¾€å¾€ä¼šå¯¼è‡´å®‰å…¨é—®é¢˜ã€‚</p><p>é¦–å…ˆï¼Œ<code>/tmp</code> ç›®å½•æ˜¯æ‰€æœ‰äººå¯è¯»å†™çš„ï¼Œä»»ä½•ç”¨æˆ·éƒ½å¯ä»¥å¾€è¯¥ç›®å½•é‡Œé¢å†™æ–‡ä»¶ã€‚åˆ›å»ºçš„ä¸´æ—¶æ–‡ä»¶ä¹Ÿæ˜¯æ‰€æœ‰äººå¯è¯»çš„ã€‚</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> touch</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /tmp/info.txt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /tmp/info.txt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ruanyf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ruanyf</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 12æœˆ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 28</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 17:12</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /tmp/info.txt</span></span></code></pre></div><p>ä¸Šé¢å‘½ä»¤åœ¨ <code>/tmp</code> ç›®å½•ç›´æ¥åˆ›å»ºæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶é»˜è®¤æ˜¯æ‰€æœ‰äººå¯è¯»çš„ã€‚</p><p>å…¶æ¬¡ï¼Œå¦‚æœæ”»å‡»è€…çŸ¥é“ä¸´æ—¶æ–‡ä»¶çš„æ–‡ä»¶åï¼Œä»–å¯ä»¥åˆ›å»ºç¬¦å·é“¾æ¥ï¼Œé“¾æ¥åˆ°ä¸´æ—¶æ–‡ä»¶ï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿè¿è¡Œå¼‚å¸¸ã€‚æ”»å‡»è€…ä¹Ÿå¯èƒ½å‘è„šæœ¬æä¾›ä¸€äº›æ¶æ„æ•°æ®ã€‚å› æ­¤ï¼Œä¸´æ—¶æ–‡ä»¶æœ€å¥½ä½¿ç”¨ä¸å¯é¢„æµ‹ã€æ¯æ¬¡éƒ½ä¸ä¸€æ ·çš„æ–‡ä»¶åï¼Œé˜²æ­¢è¢«åˆ©ç”¨ã€‚</p><p>æœ€åï¼Œä¸´æ—¶æ–‡ä»¶ä½¿ç”¨å®Œæ¯•ï¼Œåº”è¯¥åˆ é™¤ã€‚ä½†æ˜¯ï¼Œè„šæœ¬æ„å¤–é€€å‡ºæ—¶ï¼Œå¾€å¾€ä¼šå¿½ç•¥æ¸…ç†ä¸´æ—¶æ–‡ä»¶ã€‚</p><p>ç”Ÿæˆä¸´æ—¶æ–‡ä»¶åº”è¯¥éµå¾ªä¸‹é¢çš„è§„åˆ™ã€‚</p><blockquote><ul><li>åˆ›å»ºå‰æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å·²ç»å­˜åœ¨ã€‚</li><li>ç¡®ä¿ä¸´æ—¶æ–‡ä»¶å·²æˆåŠŸåˆ›å»ºã€‚</li><li>ä¸´æ—¶æ–‡ä»¶å¿…é¡»æœ‰æƒé™çš„é™åˆ¶ã€‚</li><li>ä¸´æ—¶æ–‡ä»¶è¦ä½¿ç”¨ä¸å¯é¢„æµ‹çš„æ–‡ä»¶åã€‚</li><li>è„šæœ¬é€€å‡ºæ—¶ï¼Œè¦åˆ é™¤ä¸´æ—¶æ–‡ä»¶(ä½¿ç”¨ <code>trap</code> å‘½ä»¤)ã€‚</li></ul></blockquote><h2 id="mktemp-å‘½ä»¤çš„ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#mktemp-å‘½ä»¤çš„ç”¨æ³•"><span>mktemp å‘½ä»¤çš„ç”¨æ³•</span></a></h2><p><code>mktemp</code> å‘½ä»¤å°±æ˜¯ä¸ºå®‰å…¨åˆ›å»ºä¸´æ—¶æ–‡ä»¶è€Œè®¾è®¡çš„ã€‚è™½ç„¶åœ¨åˆ›å»ºä¸´æ—¶æ–‡ä»¶ä¹‹å‰ï¼Œå®ƒä¸ä¼šæ£€æŸ¥ä¸´æ—¶æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œä½†æ˜¯å®ƒæ”¯æŒå”¯ä¸€æ–‡ä»¶åå’Œæ¸…é™¤æœºåˆ¶ï¼Œå› æ­¤å¯ä»¥å‡è½»å®‰å…¨æ”»å‡»çš„é£é™©ã€‚</p><p>ç›´æ¥è¿è¡Œ <code>mktemp</code> å‘½ä»¤ï¼Œå°±èƒ½ç”Ÿæˆä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ã€‚</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mktemp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/tmp/tmp.4GcsWSG4vj</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /tmp/tmp.4GcsWSG4vj</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-------</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ruanyf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ruanyf</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 12æœˆ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 28</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 12:49</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /tmp/tmp.4GcsWSG4vj</span></span></code></pre></div><p>ä¸Šé¢å‘½ä»¤ä¸­ï¼Œ<code>mktemp</code> å‘½ä»¤ç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶åæ˜¯éšæœºçš„ï¼Œè€Œä¸”æƒé™æ˜¯åªæœ‰ç”¨æˆ·æœ¬äººå¯è¯»å†™ã€‚</p><p>Bash è„šæœ¬ä½¿ç”¨ <code>mktemp</code> å‘½ä»¤çš„ç”¨æ³•å¦‚ä¸‹ã€‚</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">TMPFILE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mktemp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Our temp file is </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$TMPFILE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span></span></code></pre></div><p>ä¸ºäº†ç¡®ä¿ä¸´æ—¶æ–‡ä»¶åˆ›å»ºæˆåŠŸï¼Œ<code>mktemp</code> å‘½ä»¤åé¢æœ€å¥½ä½¿ç”¨ OR è¿ç®—ç¬¦ (<code>||</code>)ï¼Œä¿è¯åˆ›å»ºå¤±è´¥æ—¶é€€å‡ºè„šæœ¬ã€‚</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">TMPFILE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mktemp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) || </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">exit</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Our temp file is </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$TMPFILE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span></span></code></pre></div><p>ä¸ºäº†ä¿è¯è„šæœ¬é€€å‡ºæ—¶ä¸´æ—¶æ–‡ä»¶è¢«åˆ é™¤ï¼Œå¯ä»¥ä½¿ç”¨ <code>trap</code> å‘½ä»¤æŒ‡å®šé€€å‡ºæ—¶çš„æ¸…é™¤æ“ä½œã€‚</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">trap</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;rm -f &quot;$TMPFILE&quot;&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> EXIT</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">TMPFILE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mktemp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) || </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">exit</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Our temp file is </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$TMPFILE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span></span></code></pre></div><h2 id="mktemp-å‘½ä»¤çš„å‚æ•°" tabindex="-1"><a class="header-anchor" href="#mktemp-å‘½ä»¤çš„å‚æ•°"><span>mktemp å‘½ä»¤çš„å‚æ•°</span></a></h2><p><code>-d</code> å‚æ•°å¯ä»¥åˆ›å»ºä¸€ä¸ªä¸´æ—¶ç›®å½•ã€‚</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mktemp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/tmp/tmp.Wcau5UjmN6</span></span></code></pre></div><p><code>-p</code> å‚æ•°å¯ä»¥æŒ‡å®šä¸´æ—¶æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ã€‚é»˜è®¤æ˜¯ä½¿ç”¨ <code>$TMPDIR</code> ç¯å¢ƒå˜é‡æŒ‡å®šçš„ç›®å½•ï¼Œå¦‚æœè¿™ä¸ªå˜é‡æ²¡è®¾ç½®ï¼Œé‚£ä¹ˆä½¿ç”¨ <code>/tmp</code> ç›®å½•ã€‚</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mktemp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/ruanyf/</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/home/ruanyf/tmp.FOKEtvs2H3</span></span></code></pre></div><p><code>-t</code> å‚æ•°å¯ä»¥æŒ‡å®šä¸´æ—¶æ–‡ä»¶çš„æ–‡ä»¶åæ¨¡æ¿ï¼Œæ¨¡æ¿çš„æœ«å°¾å¿…é¡»è‡³å°‘åŒ…å«ä¸‰ä¸ªè¿ç»­çš„ <code>X</code> å­—ç¬¦ï¼Œè¡¨ç¤ºéšæœºå­—ç¬¦ï¼Œå»ºè®®è‡³å°‘ä½¿ç”¨å…­ä¸ª <code>X</code>ã€‚é»˜è®¤çš„æ–‡ä»¶åæ¨¡æ¿æ˜¯ <code>tmp.</code> åæ¥åä¸ªéšæœºå­—ç¬¦ã€‚</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mktemp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mytemp.XXXXXXX</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/tmp/mytemp.yZ1HgZV</span></span></code></pre></div><h2 id="trap-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#trap-å‘½ä»¤"><span>trap å‘½ä»¤</span></a></h2><p><code>trap</code> å‘½ä»¤ç”¨æ¥åœ¨ Bash è„šæœ¬ä¸­å“åº”ç³»ç»Ÿä¿¡å·ã€‚</p><p>æœ€å¸¸è§çš„ç³»ç»Ÿä¿¡å·å°±æ˜¯ SIGINT(ä¸­æ–­)ï¼Œå³æŒ‰ <code>Ctrl + C</code> æ‰€äº§ç”Ÿçš„ä¿¡å·ã€‚<code>trap</code> å‘½ä»¤çš„ <code>-l</code> å‚æ•°ï¼Œå¯ä»¥åˆ—å‡ºæ‰€æœ‰çš„ç³»ç»Ÿä¿¡å·ã€‚</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> trap</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) SIGHUP  2) SIGINT  3) SIGQUIT  4) SIGILL  5) SIGTRAP</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> 6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) SIGABRT  7) SIGBUS  8) SIGFPE  9) SIGKILL 10) SIGUSR1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) SIGSEGV 12) SIGUSR2 13) SIGPIPE 14) SIGALRM 15) SIGTERM</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) SIGSTKFLT 17) SIGCHLD 18) SIGCONT 19) SIGSTOP 20) SIGTSTP</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">21</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) SIGTTIN 22) SIGTTOU 23) SIGURG 24) SIGXCPU 25) SIGXFSZ</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">26</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) SIGVTALRM 27) SIGPROF 28) SIGWINCH 29) SIGIO 30) SIGPWR</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">31</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) SIGSYS 34) SIGRTMIN 35) SIGRTMIN+1 36) SIGRTMIN+2 37) SIGRTMIN+3</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">38</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) SIGRTMIN+4 39) SIGRTMIN+5 40) SIGRTMIN+6 41) SIGRTMIN+7 42) SIGRTMIN+8</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">43</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) SIGRTMIN+9 44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">48</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">53</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9 56) SIGRTMAX-8 57) SIGRTMAX-7</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">58</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) SIGRTMAX-6 59) SIGRTMAX-5 60) SIGRTMAX-4 61) SIGRTMAX-3 62) SIGRTMAX-2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">63</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) SIGRTMAX-1 64) SIGRTMAX</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>trap</code> çš„å‘½ä»¤æ ¼å¼å¦‚ä¸‹ã€‚</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">trap</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [åŠ¨ä½œ] [ä¿¡å·1] [ä¿¡å·2] ...</span></span></code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œâ€œåŠ¨ä½œâ€æ˜¯ä¸€ä¸ª Bash å‘½ä»¤ï¼Œâ€œä¿¡å·â€å¸¸ç”¨çš„æœ‰ä»¥ä¸‹å‡ ä¸ªã€‚</p><blockquote><ul><li>HUP: ç¼–å· 1ï¼Œè„šæœ¬ä¸æ‰€åœ¨çš„ç»ˆç«¯è„±ç¦»è”ç³»ã€‚</li><li>INT: ç¼–å· 2ï¼Œç”¨æˆ·æŒ‰ä¸‹ Ctrl + Cï¼Œæ„å›¾è®©è„šæœ¬ä¸­æ­¢è¿è¡Œã€‚</li><li>QUIT: ç¼–å· 3ï¼Œç”¨æˆ·æŒ‰ä¸‹ Ctrl + æ–œæ ï¼Œæ„å›¾é€€å‡ºè„šæœ¬ã€‚</li><li>KILL: ç¼–å· 9ï¼Œè¯¥ä¿¡å·ç”¨äºæ€æ­»è¿›ç¨‹ã€‚</li><li>TERM: ç¼–å· 15ï¼Œè¿™æ˜¯ <code>kill</code> å‘½ä»¤å‘å‡ºçš„é»˜è®¤ä¿¡å·ã€‚</li><li>EXIT: ç¼–å· 0ï¼Œè¿™ä¸æ˜¯ç³»ç»Ÿä¿¡å·ï¼Œè€Œæ˜¯ Bash è„šæœ¬ç‰¹æœ‰çš„ä¿¡å·ï¼Œä¸ç®¡ä»€ä¹ˆæƒ…å†µï¼Œåªè¦é€€å‡ºè„šæœ¬å°±ä¼šäº§ç”Ÿã€‚</li></ul></blockquote><p><code>trap</code> å‘½ä»¤å“åº” <code>EXIT</code> ä¿¡å·çš„å†™æ³•å¦‚ä¸‹ã€‚</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">trap</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;rm -f &quot;$TMPFILE&quot;&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> EXIT</span></span></code></pre></div><p>ä¸Šé¢å‘½ä»¤ä¸­ï¼Œè„šæœ¬é‡åˆ° <code>EXIT</code> ä¿¡å·æ—¶ï¼Œå°±ä¼šæ‰§è¡Œ <code>rm -f &quot;$TMPFILE&quot;</code>ã€‚</p><p>trap å‘½ä»¤çš„å¸¸è§ä½¿ç”¨åœºæ™¯ï¼Œå°±æ˜¯åœ¨ Bash è„šæœ¬ä¸­æŒ‡å®šé€€å‡ºæ—¶æ‰§è¡Œçš„æ¸…ç†å‘½ä»¤ã€‚</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">trap</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;rm -f &quot;$TMPFILE&quot;&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> EXIT</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">TMPFILE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mktemp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) || </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">exit</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ls</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$TMPFILE</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -qi</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;kernel&quot;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $TMPFILE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">then</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">  echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;find&#39;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">fi</span></span></code></pre></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œä¸ç®¡æ˜¯è„šæœ¬æ­£å¸¸æ‰§è¡Œç»“æŸï¼Œè¿˜æ˜¯ç”¨æˆ·æŒ‰ <code>Ctrl + C</code> ç»ˆæ­¢ï¼Œéƒ½ä¼šäº§ç”Ÿ <code>EXIT</code> ä¿¡å·ï¼Œä»è€Œè§¦å‘åˆ é™¤ä¸´æ—¶æ–‡ä»¶ã€‚</p><p>æ³¨æ„ï¼Œ<code>trap</code> å‘½ä»¤å¿…é¡»æ”¾åœ¨è„šæœ¬çš„å¼€å¤´ã€‚å¦åˆ™ï¼Œå®ƒä¸Šæ–¹çš„ä»»ä½•å‘½ä»¤å¯¼è‡´è„šæœ¬é€€å‡ºï¼Œéƒ½ä¸ä¼šè¢«å®ƒæ•è·ã€‚</p><p>å¦‚æœ <code>trap</code> éœ€è¦è§¦å‘å¤šæ¡å‘½ä»¤ï¼Œå¯ä»¥å°è£…ä¸€ä¸ª Bash å‡½æ•°ã€‚</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> egress</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  command1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  command2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  command3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">trap</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> egress</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> EXIT</span></span></code></pre></div><h2 id="å‚è€ƒé“¾æ¥" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥"><span>å‚è€ƒé“¾æ¥</span></a></h2><ul><li><a href="https://www.putorius.net/working-with-temporary-files.html" target="_blank" rel="noopener noreferrer">Working with Temporary Files and Directories in Shell Scripts</a>, Steven Vona</li><li><a href="https://www.putorius.net/using-trap-to-exit-bash-scripts-cleanly.html" target="_blank" rel="noopener noreferrer">Using Trap to Exit Bash Scripts Cleanly</a></li><li><a href="https://mywiki.wooledge.org/SignalTrap" target="_blank" rel="noopener noreferrer">Sending and Trapping Signals</a></li></ul>`,46))])}const g=t(p,[["render",k],["__file","mktemp.html.vue"]]),c=JSON.parse('{"path":"/linux/bash/mktemp.html","title":"mktemp å‘½ä»¤ï¼Œtrap å‘½ä»¤","lang":"zh-CN","frontmatter":{"date":"2020-05-04T00:00:00.000Z","title":"mktemp å‘½ä»¤ï¼Œtrap å‘½ä»¤","icon":"shell","author":"é˜®ä¸€å³°","category":"Linux","tag":["Bash"],"copyright":"æœ¬æ•™ç¨‹é‡‡ç”¨<a href=\\"https://creativecommons.org/licenses/by-sa/3.0/deed.zh\\" rel=\\"noopener noreferrer\\" target=\\"_blank\\">çŸ¥è¯†å…±äº« ç½²å-ç›¸åŒæ–¹å¼å…±äº« 3.0åè®®</a>","description":"Bash è„šæœ¬æœ‰æ—¶éœ€è¦åˆ›å»ºä¸´æ—¶æ–‡ä»¶æˆ–ä¸´æ—¶ç›®å½•ã€‚å¸¸è§çš„åšæ³•æ˜¯ï¼Œåœ¨ /tmp ç›®å½•é‡Œé¢åˆ›å»ºæ–‡ä»¶æˆ–ç›®å½•ï¼Œè¿™æ ·åšæœ‰å¾ˆå¤šå¼Šç«¯ï¼Œä½¿ç”¨ mktemp å‘½ä»¤æ˜¯æœ€å®‰å…¨çš„åšæ³•ã€‚","head":[["meta",{"property":"og:url","content":"https://liaorenhua.github.io/blog_postgraduate/blog_postgraduate/linux/bash/mktemp.html"}],["meta",{"property":"og:site_name","content":"ğ“›ğ“®ğ“¸ ğ“‘ğ“›ğ“¸ğ“–"}],["meta",{"property":"og:title","content":"mktemp å‘½ä»¤ï¼Œtrap å‘½ä»¤"}],["meta",{"property":"og:description","content":"Bash è„šæœ¬æœ‰æ—¶éœ€è¦åˆ›å»ºä¸´æ—¶æ–‡ä»¶æˆ–ä¸´æ—¶ç›®å½•ã€‚å¸¸è§çš„åšæ³•æ˜¯ï¼Œåœ¨ /tmp ç›®å½•é‡Œé¢åˆ›å»ºæ–‡ä»¶æˆ–ç›®å½•ï¼Œè¿™æ ·åšæœ‰å¾ˆå¤šå¼Šç«¯ï¼Œä½¿ç”¨ mktemp å‘½ä»¤æ˜¯æœ€å®‰å…¨çš„åšæ³•ã€‚"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-07T02:58:54.000Z"}],["meta",{"property":"article:author","content":"é˜®ä¸€å³°"}],["meta",{"property":"article:tag","content":"Bash"}],["meta",{"property":"article:published_time","content":"2020-05-04T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-01-07T02:58:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"mktemp å‘½ä»¤ï¼Œtrap å‘½ä»¤\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2020-05-04T00:00:00.000Z\\",\\"dateModified\\":\\"2025-01-07T02:58:54.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"é˜®ä¸€å³°\\"}]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://liaorenhua.github.io/blog_postgraduate/blog_postgraduate/atom.xml","title":"ğ“›ğ“®ğ“¸ ğ“‘ğ“›ğ“¸ğ“– Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://liaorenhua.github.io/blog_postgraduate/blog_postgraduate/feed.json","title":"ğ“›ğ“®ğ“¸ ğ“‘ğ“›ğ“¸ğ“– JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://liaorenhua.github.io/blog_postgraduate/blog_postgraduate/rss.xml","title":"ğ“›ğ“®ğ“¸ ğ“‘ğ“›ğ“¸ğ“– RSS Feed"}]]},"headers":[{"level":2,"title":"ä¸´æ—¶æ–‡ä»¶çš„å®‰å…¨é—®é¢˜","slug":"ä¸´æ—¶æ–‡ä»¶çš„å®‰å…¨é—®é¢˜","link":"#ä¸´æ—¶æ–‡ä»¶çš„å®‰å…¨é—®é¢˜","children":[]},{"level":2,"title":"mktemp å‘½ä»¤çš„ç”¨æ³•","slug":"mktemp-å‘½ä»¤çš„ç”¨æ³•","link":"#mktemp-å‘½ä»¤çš„ç”¨æ³•","children":[]},{"level":2,"title":"mktemp å‘½ä»¤çš„å‚æ•°","slug":"mktemp-å‘½ä»¤çš„å‚æ•°","link":"#mktemp-å‘½ä»¤çš„å‚æ•°","children":[]},{"level":2,"title":"trap å‘½ä»¤","slug":"trap-å‘½ä»¤","link":"#trap-å‘½ä»¤","children":[]},{"level":2,"title":"å‚è€ƒé“¾æ¥","slug":"å‚è€ƒé“¾æ¥","link":"#å‚è€ƒé“¾æ¥","children":[]}],"git":{"createdTime":1736126247000,"updatedTime":1736218734000,"contributors":[{"name":"liao_rh","username":"liao_rh","email":"993929808@qq.com","commits":3,"url":"https://github.com/liao_rh"}]},"readingTime":{"minutes":4.9,"words":1470},"filePathRelative":"linux/bash/mktemp.md","localizedDate":"2020å¹´5æœˆ4æ—¥","excerpt":"<p>Bash è„šæœ¬æœ‰æ—¶éœ€è¦åˆ›å»ºä¸´æ—¶æ–‡ä»¶æˆ–ä¸´æ—¶ç›®å½•ã€‚å¸¸è§çš„åšæ³•æ˜¯ï¼Œåœ¨ <code>/tmp</code> ç›®å½•é‡Œé¢åˆ›å»ºæ–‡ä»¶æˆ–ç›®å½•ï¼Œè¿™æ ·åšæœ‰å¾ˆå¤šå¼Šç«¯ï¼Œä½¿ç”¨ <code>mktemp</code> å‘½ä»¤æ˜¯æœ€å®‰å…¨çš„åšæ³•ã€‚</p>\\n","autoDesc":true}');export{g as comp,c as data};
