import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as n,e as l,b as t,o as e}from"./app-Cr_a3z6Z.js";const h={};function k(p,i){return e(),a("div",null,[i[0]||(i[0]=n("p",null,"æœ¬æ–‡ä»‹ç»å¦‚ä½•åˆ©ç”¨ Git å’Œ GitHub Actionï¼Œè‡ªåŠ¨éƒ¨ç½²ä»£ç åˆ°æœåŠ¡å™¨ã€‚",-1)),l(" more "),i[1]||(i[1]=t(`<div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>ç”±äº Centos ä»ç„¶æ˜¯ç”¨ GitV1ï¼Œæœ¬æ•™ç¨‹ä½¿ç”¨ Ubuntu 20.04 è¿›è¡Œæ•™å­¦ã€‚</p></div><h2 id="æœåŠ¡å™¨" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡å™¨"><span>æœåŠ¡å™¨</span></a></h2><p>ä¸ºäº†èƒ½ä¾›è‡ªåŠ¨éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼Œæˆ‘ä»¬éœ€è¦è®©æœåŠ¡å™¨çš„ç½‘ç«™ç›®å½•æˆä¸ºä¸€ä¸ª Git ä»“åº“ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥åœ¨ GitHub Actions ä¸­ï¼Œé€šè¿‡å‘æœåŠ¡å™¨å¯¹åº” GitHub ä»“åº“æ¨é€ç½‘ç«™å†…å®¹ï¼Œä½¿æœåŠ¡å™¨ç½‘ç«™è·å¾—è‡ªåŠ¨æ›´æ–°ã€‚ä¸‹é¢æ˜¯æœåŠ¡å™¨ä¾§çš„éƒ¨ç½²é…ç½®</p><h3 id="æ·»åŠ è´¦æˆ·" tabindex="-1"><a class="header-anchor" href="#æ·»åŠ è´¦æˆ·"><span>æ·»åŠ è´¦æˆ·</span></a></h3><p>ä¸ºäº†å®‰å…¨ï¼Œé¦–å…ˆéœ€è¦ä½¿ç”¨å‘½ä»¤åˆ›å»º Git ç”¨æˆ·ï¼Œä¸ºäº†å®‰å…¨è¯·åŠ¡å¿…è®¾ç½®å¯†ç ã€‚</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> adduser</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> git</span></span></code></pre></div><p>ä¹‹åï¼ŒæŸ¥çœ‹éƒ¨ç½²ç›®å½•æ‰€åœ¨ç»„ï¼Œgit ç”¨æˆ·æ·»åŠ åˆ°ç»„ä¸­ã€‚</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">usermod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -a</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -G</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ç›®å½•æ‰€åœ¨</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ç»„&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">git</span></span></code></pre></div><p>ç„¶åå°†éƒ¨ç½²ç›®å½•çš„æƒé™è®¾ç½®ä¸º <code>775</code>ï¼Œå³å…è®¸åŒç»„è®¿é—®ã€‚è¿™æ · git å°±æœ‰æƒé™è®¿é—®éƒ¨ç½²ç›®å½•ã€‚</p><h3 id="æ·»åŠ æƒé™" tabindex="-1"><a class="header-anchor" href="#æ·»åŠ æƒé™"><span>æ·»åŠ æƒé™</span></a></h3><p>åˆ›å»º <code>~/.ssh/</code> æ–‡ä»¶å¤¹ï¼Œç”Ÿæˆ <code>authorized_keys</code> æ–‡ä»¶ï¼Œå¹¶è®¾ç½®å…¶æƒé™ä¸º <code>600</code>ã€‚</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/.ssh/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">touch</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/.ssh/authorized_keys</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 600</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/.ssh/authorized_keys</span></span></code></pre></div><p>ä¹‹åå°†éœ€è¦èµ‹äºˆæƒé™çš„ç”¨æˆ·å…¬é’¥ä¾æ¬¡ç²˜è´´è‡³è¯¥æ–‡ä»¶ï¼Œè¿™æ ·ç›¸å…³ç”¨æˆ·å³å¯ä»¥ä½¿ç”¨å¯¹åº”ç§é’¥ï¼Œå‘æœåŠ¡å™¨ç›¸å…³ä»“åº“æ¨é€ä»£ç ã€‚</p><h3 id="åˆ›å»ºä»“åº“" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºä»“åº“"><span>åˆ›å»ºä»“åº“</span></a></h3><p>å›åˆ° <code>/home/git/</code>ï¼Œåˆ›å»ºæ‰€éœ€çš„æ–‡ä»¶å¤¹:</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ä»“åº“</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">å&gt;</span></span></code></pre></div><p>è¿›å…¥æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> init</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --separate-git-dir=.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">éƒ¨ç½²ä½</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ç½®&gt;</span></span></code></pre></div><p>è¿™ä¼šå°† git åº“ä¿æŒåœ¨ <code>/home/git/&lt;ä»“åº“å&gt;</code> ä¸‹ï¼ŒåŒæ—¶å°†å·¥ä½œåŒºè®¾ç½®åˆ°éƒ¨ç½²æ–‡ä»¶å¤¹ä¸­ã€‚</p><p>æ¥ä¸‹æ¥æ‰§è¡Œ:</p><div class="language-sh" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> config</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> receive.denyCurrentBranch</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ignore</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> config</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --global</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> safe.directory</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">éƒ¨ç½²æ–‡ä»¶</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">å¤¹&gt;</span></span></code></pre></div><div class="hint-container note"><p class="hint-container-title">æ³¨</p><p>Git é»˜è®¤æ‹’ç»å¤–éƒ¨å¯¹å½“å‰åˆ†æ”¯çš„æ¨é€æ“ä½œï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šè¦†ç›–æˆ–å˜æ›´å·¥ä½œåŒºæ–‡ä»¶ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ˜¾å¼é€šçŸ¥ Git ä¸è¦æ‹’ç»å½“å‰åˆ†æ”¯çš„æ¨é€æ“ä½œã€‚</p><p>å¦å¤–åœ¨æ–°ç‰ˆæœ¬ Git ä¸­ï¼Œè€ƒè™‘åˆ°å®‰å…¨å› ç´ ï¼ŒGit ä¼šåœ¨æ£€å‡ºæ—¶æ£€æµ‹é¡¹ç›®æ–‡ä»¶å¤¹æ˜¯å¦å±äºå…¶ä»–ç»„æˆå‘˜ï¼Œå¦‚æœæ£€æµ‹åˆ°ä¼šé»˜è®¤æ‹’ç»ç›¸å…³æ“ä½œä»¥é˜²æ­¢å…¶ä»–ç”¨äºè·å–åˆ°æœ¬ä¸åº”è¯¥è·å–åˆ°çš„ä»£ç ä¿¡æ¯ã€‚å› ä¸ºéƒ¨ç½²æ–‡ä»¶å¤¹çš„æ‰€æœ‰è€…é€šå¸¸ä¸ä¼šæ˜¯ gitï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ ‡è®°å¯¹åº”çš„éƒ¨ç½²æ–‡ä»¶å¤¹â€œå®‰å…¨â€ã€‚</p></div><h2 id="github-actions" tabindex="-1"><a class="header-anchor" href="#github-actions"><span>GitHub Actions</span></a></h2><p>åœ¨ GitHub ä¸€ä¾§ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ GitHub Actionï¼Œåœ¨æ–°ä»£ç æ¨é€æ—¶è‡ªåŠ¨æ„å»ºç½‘ç«™ï¼Œå¹¶éƒ¨ç½²åˆ° GitHub çš„ gh-pages åˆ†æ”¯ã€‚ä¹‹åï¼ŒGitHub Action å°†è¯¥åˆ†æ”¯çš„å˜åŠ¨æ¨é€æœåŠ¡å™¨çš„å¯¹åº”ä»“åº“ï¼Œå®Œæˆç½‘ç«™çš„è‡ªåŠ¨éƒ¨ç½²ã€‚</p><p>ä¹‹ååªéœ€è¦ä½¿ç”¨ GitHub Action é€šè¿‡ Git æ¨é€åˆ° <code>git@&lt;domain&gt;:&lt;éƒ¨ç½²ç›®å½•&gt; gh-pages</code> å³å¯ã€‚</p><div class="language-yml line-numbers-mode" data-highlighter="shiki" data-ext="yml" data-title="yml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># è‡ªåŠ¨éƒ¨ç½²çš„åç§°</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">GitHub pages deploy</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># è‡ªåŠ¨éƒ¨ç½²çš„æ¡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">on</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  push</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    branches</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">master</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">jobs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # æ„å»ºç½‘ç«™å¹¶éƒ¨ç½²åˆ° GitHub Pages</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  deploy-gh-pages</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # è¿è¡Œç¯å¢ƒ</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    runs-on</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ubuntu-latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # æ­¥éª¤</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    steps</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # ç¬¬ä¸€æ­¥: ä¸‹è½½æºç </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Checkout</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # action é…ç½®è¯¦è§ https://github.com/actions/checkout</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        uses</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">actions/checkout@v4</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        with</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # å¦‚æœæœ¬é¡¹ç›®åŒ…å«äº†å­æ¨¡å— (git submodules)ï¼Œéœ€è¦å°†æ­¤é¡¹è®¾ç½®ä¸º true</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # submodules: true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # è¿™æ˜¯è·å–å†å² commit çš„æ·±åº¦ï¼Œé»˜è®¤ä¸º 1ï¼Œå³åªæ‹‰å–æœ€åä¸€ä¸ª commit</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # è¿™æ ·å¯ä»¥åŠ å¿«æ‹‰å–é€Ÿåº¦</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          #</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # å¦‚æœé¡¹ç›®ä½¿ç”¨ VuePressï¼Œä¸ºäº†æ­£ç¡®é€šè¿‡ Git å†å²æäº¤è®°å½•ç”Ÿæˆé¡µé¢çš„æœ€åæ›´æ–°æ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # éœ€è¦è®¾ç½®ä¸º 0 ä»¥æ‹‰å–å®Œæ•´çš„ git å†å²æäº¤</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # fetch-depth: 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # å¦‚æœå­æ¨¡å—åŒ…å«ç§æœ‰ä»“åº“ï¼Œéœ€è¦è®¾ç½® ssh key æˆ– token ä»¥ä¿è¯æ‹¥æœ‰æ‹‰å–ç›¸åº”ä»“åº“çš„æƒé™</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # æ‚¨å¯ä»¥å°† ssh-key è®¾ç½®ä¸º github ç»‘å®šå…¬é’¥å¯¹åº”çš„ç§é’¥</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # ä¹Ÿå¯ä»¥æ–°å»ºä¸€ä¸ªå…·æœ‰ç›¸å…³ä»“åº“è®¿é—®æƒé™çš„ github token</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # token:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # ç¼“å­˜ node_modules ä»¥é¿å…é‡å¤å®‰è£…</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">uses</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">actions/cache@v3</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">node-modules</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        with</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # éœ€è¦ç¼“å­˜çš„è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">node_modules/</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # ç¼“å­˜çš„ key</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">\${{ runner.os }}-node-modules-\${{ hashFiles(&#39;yarn.lock&#39;) }}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # æ¢å¤ key</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          restore-keys</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">|</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            \${{ runner.os }}-node-modules-</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # å®‰è£…ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Install Deps</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # åªæœ‰æ²¡æœ‰å‘½ä¸­ç¼“å­˜æ‰ä¼šæ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">steps.node-modules.outputs.cache-hit != &#39;true&#39;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # ä¸¥æ ¼æŒ‰ç…§ yarn.lock å®‰è£…ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        run</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">yarn install --frozen-lockfile</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # æ„å»ºé¡¹ç›®</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Build</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # é¡¹ç›®çš„æ„å»ºå‘½ä»¤</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        run</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">yarn run build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # ç¬¬å››æ­¥ï¼Œéƒ¨ç½²</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Deploy</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # action é…ç½®è¯¦è§ https://github.com/JamesIves/github-pages-deploy-action</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        uses</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">JamesIves/github-pages-deploy-action@v4</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        with</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # éƒ¨ç½²åˆ°çš„åˆ†æ”¯</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          branch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">gh-pages</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # éœ€è¦éƒ¨ç½²çš„æ–‡ä»¶å¤¹</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          folder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">dist</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # éƒ¨ç½²åˆ°æœåŠ¡å™¨</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  deploy-server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    runs-on</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ubuntu-latest</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # ç¡®ä¿åœ¨éƒ¨ç½²åˆ° GitHub Pages ä¹‹åæ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    needs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">deploy-gh-pages</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    steps</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # æ£€å‡ºç½‘ç«™ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Checkout</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        uses</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">actions/checkout@v4</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        with</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # æ£€å‡º gh-pages åˆ†æ”¯</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          ref</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">gh-pages</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # è·å–å…¨éƒ¨çš„å†å²æäº¤</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          fetch-depth</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # é…ç½®ç¯å¢ƒ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Configuration environment</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # å†™å…¥ç§é’¥ã€é…ç½® Git ç”¨æˆ·åï¼Œå†™å…¥æœåŠ¡å™¨åœ°å€</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # æ‚¨éœ€è¦è‡ªè¡Œå°†æœåŠ¡å™¨çš„ç§é’¥å†™å…¥ secrets çš„ SSH_PRIVATE_KEY</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        run</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">|</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">          mkdir -p ~/.ssh/</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">          echo &quot;\${{ secrets.SSH_PRIVATE_KEY }}&quot; &gt; ~/.ssh/id_rsa</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">          chmod 600 ~/.ssh/id_rsa</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">          ssh-keyscan &lt;your domain&gt; &gt;&gt; ~/.ssh/known_hosts</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">          git config --global user.name &#39;Your Name&#39;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">          git config --global user.email &#39;You email&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # éƒ¨ç½²åˆ°æœåŠ¡å™¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Deploy</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # ä½¿ç”¨ Git å°†ç½‘ç«™ä»£ç å¼ºåˆ¶æ¨é€åˆ°è¿œç¨‹çš„ç½‘ç«™ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # å¹¶ä½¿ç”¨ SSH è¿æ¥æœåŠ¡å™¨è¿›å…¥ç½‘ç«™ç›®å½•æ‰‹åŠ¨åˆ‡æ¢åˆ°æœ€æ–°æäº¤</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        run</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">|</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">          git push -f git@&lt;your domain&gt;:&lt;deploy dir&gt; gh-pages</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">          ssh git@&lt;your domain&gt; &quot;cd &lt;deploy dir&gt; &amp;&amp; git reset --hard HEAD&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,26))])}const c=s(h,[["render",k],["__file","deploy.html.vue"]]),g=JSON.parse('{"path":"/code/github/deploy.html","title":"è‡ªåŠ¨éƒ¨ç½²","lang":"zh-CN","frontmatter":{"date":"2021-01-18T00:00:00.000Z","title":"è‡ªåŠ¨éƒ¨ç½²","icon":"network","category":"GitHub","tag":["Git","deploy"],"order":8,"description":"æœ¬æ–‡ä»‹ç»å¦‚ä½•åˆ©ç”¨ Git å’Œ GitHub Actionï¼Œè‡ªåŠ¨éƒ¨ç½²ä»£ç åˆ°æœåŠ¡å™¨ã€‚","head":[["meta",{"property":"og:url","content":"https://liaorenhua.github.io/blog_postgraduate/blog_postgraduate/code/github/deploy.html"}],["meta",{"property":"og:site_name","content":"ğ“›ğ“®ğ“¸ ğ“‘ğ“›ğ“¸ğ“–"}],["meta",{"property":"og:title","content":"è‡ªåŠ¨éƒ¨ç½²"}],["meta",{"property":"og:description","content":"æœ¬æ–‡ä»‹ç»å¦‚ä½•åˆ©ç”¨ Git å’Œ GitHub Actionï¼Œè‡ªåŠ¨éƒ¨ç½²ä»£ç åˆ°æœåŠ¡å™¨ã€‚"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-07T02:58:54.000Z"}],["meta",{"property":"article:tag","content":"Git"}],["meta",{"property":"article:tag","content":"deploy"}],["meta",{"property":"article:published_time","content":"2021-01-18T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-01-07T02:58:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"è‡ªåŠ¨éƒ¨ç½²\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2021-01-18T00:00:00.000Z\\",\\"dateModified\\":\\"2025-01-07T02:58:54.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Leo\\",\\"url\\":\\"https://liaorenhua.github.io/blog_postgraduate/\\"}]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://liaorenhua.github.io/blog_postgraduate/blog_postgraduate/atom.xml","title":"ğ“›ğ“®ğ“¸ ğ“‘ğ“›ğ“¸ğ“– Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://liaorenhua.github.io/blog_postgraduate/blog_postgraduate/feed.json","title":"ğ“›ğ“®ğ“¸ ğ“‘ğ“›ğ“¸ğ“– JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://liaorenhua.github.io/blog_postgraduate/blog_postgraduate/rss.xml","title":"ğ“›ğ“®ğ“¸ ğ“‘ğ“›ğ“¸ğ“– RSS Feed"}]]},"headers":[{"level":2,"title":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","link":"#æœåŠ¡å™¨","children":[{"level":3,"title":"æ·»åŠ è´¦æˆ·","slug":"æ·»åŠ è´¦æˆ·","link":"#æ·»åŠ è´¦æˆ·","children":[]},{"level":3,"title":"æ·»åŠ æƒé™","slug":"æ·»åŠ æƒé™","link":"#æ·»åŠ æƒé™","children":[]},{"level":3,"title":"åˆ›å»ºä»“åº“","slug":"åˆ›å»ºä»“åº“","link":"#åˆ›å»ºä»“åº“","children":[]}]},{"level":2,"title":"GitHub Actions","slug":"github-actions","link":"#github-actions","children":[]}],"git":{"createdTime":1736126247000,"updatedTime":1736218734000,"contributors":[{"name":"liao_rh","username":"liao_rh","email":"993929808@qq.com","commits":3,"url":"https://github.com/liao_rh"}]},"readingTime":{"minutes":4.21,"words":1263},"filePathRelative":"code/github/deploy.md","localizedDate":"2021å¹´1æœˆ18æ—¥","excerpt":"<p>æœ¬æ–‡ä»‹ç»å¦‚ä½•åˆ©ç”¨ Git å’Œ GitHub Actionï¼Œè‡ªåŠ¨éƒ¨ç½²ä»£ç åˆ°æœåŠ¡å™¨ã€‚</p>\\n","autoDesc":true}');export{c as comp,g as data};
