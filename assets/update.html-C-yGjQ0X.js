import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,b as e,o as n}from"./app-DfBDi0VV.js";const t={};function l(p,i){return n(),a("div",null,i[0]||(i[0]=[e(`<h2 id="æœªå¯åŠ¨æ—¶æ›´æ–°" tabindex="-1"><a class="header-anchor" href="#æœªå¯åŠ¨æ—¶æ›´æ–°"><span>æœªå¯åŠ¨æ—¶æ›´æ–°</span></a></h2><p>å¼€å‘è€…åœ¨ç®¡ç†åå°å‘å¸ƒæ–°ç‰ˆæœ¬çš„å°ç¨‹åºä¹‹åï¼Œå¦‚æœæŸä¸ªç”¨æˆ·æœ¬åœ°æœ‰å°ç¨‹åºçš„å†å²ç‰ˆæœ¬ï¼Œæ­¤æ—¶æ‰“å¼€çš„å¯èƒ½è¿˜æ˜¯æ—§ç‰ˆæœ¬ã€‚å¾®ä¿¡å®¢æˆ·ç«¯ä¼šæœ‰è‹¥å¹²ä¸ªæ—¶æœºå»æ£€æŸ¥æœ¬åœ°ç¼“å­˜çš„å°ç¨‹åºæœ‰æ²¡æœ‰æ›´æ–°ç‰ˆæœ¬ï¼Œå¦‚æœæœ‰åˆ™ä¼šé™é»˜æ›´æ–°åˆ°æ–°ç‰ˆæœ¬ã€‚æ€»çš„æ¥è¯´ï¼Œå¼€å‘è€…åœ¨åå°å‘å¸ƒæ–°ç‰ˆæœ¬ä¹‹åï¼Œæ— æ³•ç«‹åˆ»å½±å“åˆ°æ‰€æœ‰ç°ç½‘ç”¨æˆ·ï¼Œä½†æœ€å·®æƒ…å†µä¸‹ï¼Œä¹Ÿåœ¨å‘å¸ƒä¹‹å 24 å°æ—¶ä¹‹å†…ä¸‹å‘æ–°ç‰ˆæœ¬ä¿¡æ¯åˆ°ç”¨æˆ·ã€‚ç”¨æˆ·ä¸‹æ¬¡æ‰“å¼€æ—¶ä¼šå…ˆæ›´æ–°æœ€æ–°ç‰ˆæœ¬å†æ‰“å¼€ã€‚</p><h2 id="å¯åŠ¨æ—¶æ›´æ–°" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨æ—¶æ›´æ–°"><span>å¯åŠ¨æ—¶æ›´æ–°</span></a></h2><p>å°ç¨‹åºæ¯æ¬¡å†·å¯åŠ¨æ—¶ï¼Œéƒ½ä¼šæ£€æŸ¥æ˜¯å¦æœ‰æ›´æ–°ç‰ˆæœ¬ï¼Œå¦‚æœå‘ç°æœ‰æ–°ç‰ˆæœ¬ï¼Œå°†ä¼šå¼‚æ­¥ä¸‹è½½æ–°ç‰ˆæœ¬çš„ä»£ç åŒ…ï¼Œå¹¶åŒæ—¶ç”¨å®¢æˆ·ç«¯æœ¬åœ°çš„åŒ…è¿›è¡Œå¯åŠ¨ï¼Œå³æ–°ç‰ˆæœ¬çš„å°ç¨‹åºéœ€è¦ç­‰ä¸‹ä¸€æ¬¡å†·å¯åŠ¨æ‰ä¼šåº”ç”¨ä¸Šã€‚</p><p>å¦‚æœéœ€è¦é©¬ä¸Šåº”ç”¨æœ€æ–°ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://developers.weixin.qq.com/miniprogram/dev/api/base/update/wx.getUpdateManager.html" target="_blank" rel="noopener noreferrer"><code>wx.getUpdateManager</code></a> API è¿›è¡Œå¤„ç†ã€‚</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> updateManager</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> wx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getUpdateManager</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">updateManager</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">onCheckForUpdate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // è¯·æ±‚å®Œæ–°ç‰ˆæœ¬ä¿¡æ¯çš„å›è°ƒ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">hasUpdate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">updateManager</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">onUpdateReady</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  wx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">showModal</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    title</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;æ›´æ–°æç¤º&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    content</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;æ–°ç‰ˆæœ¬å·²ç»å‡†å¤‡å¥½ï¼Œæ˜¯å¦é‡å¯åº”ç”¨ï¼Ÿ&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    success</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">confirm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // æ–°çš„ç‰ˆæœ¬å·²ç»ä¸‹è½½å¥½ï¼Œè°ƒç”¨ applyUpdate åº”ç”¨æ–°ç‰ˆæœ¬å¹¶é‡å¯</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">        updateManager</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">applyUpdate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">updateManager</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">onUpdateFailed</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // æ–°ç‰ˆæœ¬ä¸‹è½½å¤±è´¥</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6)]))}const r=s(t,[["render",l],["__file","update.html.vue"]]),d=JSON.parse('{"path":"/code/mini-app/guide/frame/update.html","title":"å°ç¨‹åºæ›´æ–°æœºåˆ¶","lang":"zh-CN","frontmatter":{"date":"2020-12-19T00:00:00.000Z","title":"å°ç¨‹åºæ›´æ–°æœºåˆ¶","icon":"update","category":"å°ç¨‹åº","description":"æœªå¯åŠ¨æ—¶æ›´æ–° å¼€å‘è€…åœ¨ç®¡ç†åå°å‘å¸ƒæ–°ç‰ˆæœ¬çš„å°ç¨‹åºä¹‹åï¼Œå¦‚æœæŸä¸ªç”¨æˆ·æœ¬åœ°æœ‰å°ç¨‹åºçš„å†å²ç‰ˆæœ¬ï¼Œæ­¤æ—¶æ‰“å¼€çš„å¯èƒ½è¿˜æ˜¯æ—§ç‰ˆæœ¬ã€‚å¾®ä¿¡å®¢æˆ·ç«¯ä¼šæœ‰è‹¥å¹²ä¸ªæ—¶æœºå»æ£€æŸ¥æœ¬åœ°ç¼“å­˜çš„å°ç¨‹åºæœ‰æ²¡æœ‰æ›´æ–°ç‰ˆæœ¬ï¼Œå¦‚æœæœ‰åˆ™ä¼šé™é»˜æ›´æ–°åˆ°æ–°ç‰ˆæœ¬ã€‚æ€»çš„æ¥è¯´ï¼Œå¼€å‘è€…åœ¨åå°å‘å¸ƒæ–°ç‰ˆæœ¬ä¹‹åï¼Œæ— æ³•ç«‹åˆ»å½±å“åˆ°æ‰€æœ‰ç°ç½‘ç”¨æˆ·ï¼Œä½†æœ€å·®æƒ…å†µä¸‹ï¼Œä¹Ÿåœ¨å‘å¸ƒä¹‹å 24 å°æ—¶ä¹‹å†…ä¸‹å‘æ–°ç‰ˆæœ¬ä¿¡æ¯åˆ°ç”¨æˆ·ã€‚ç”¨æˆ·ä¸‹æ¬¡æ‰“å¼€æ—¶ä¼šå…ˆ...","head":[["meta",{"property":"og:url","content":"https://liaorenhua.github.io/blog_postgraduate/blog_postgraduate/code/mini-app/guide/frame/update.html"}],["meta",{"property":"og:site_name","content":"ğ“›ğ“®ğ“¸ ğ“‘ğ“›ğ“¸ğ“–"}],["meta",{"property":"og:title","content":"å°ç¨‹åºæ›´æ–°æœºåˆ¶"}],["meta",{"property":"og:description","content":"æœªå¯åŠ¨æ—¶æ›´æ–° å¼€å‘è€…åœ¨ç®¡ç†åå°å‘å¸ƒæ–°ç‰ˆæœ¬çš„å°ç¨‹åºä¹‹åï¼Œå¦‚æœæŸä¸ªç”¨æˆ·æœ¬åœ°æœ‰å°ç¨‹åºçš„å†å²ç‰ˆæœ¬ï¼Œæ­¤æ—¶æ‰“å¼€çš„å¯èƒ½è¿˜æ˜¯æ—§ç‰ˆæœ¬ã€‚å¾®ä¿¡å®¢æˆ·ç«¯ä¼šæœ‰è‹¥å¹²ä¸ªæ—¶æœºå»æ£€æŸ¥æœ¬åœ°ç¼“å­˜çš„å°ç¨‹åºæœ‰æ²¡æœ‰æ›´æ–°ç‰ˆæœ¬ï¼Œå¦‚æœæœ‰åˆ™ä¼šé™é»˜æ›´æ–°åˆ°æ–°ç‰ˆæœ¬ã€‚æ€»çš„æ¥è¯´ï¼Œå¼€å‘è€…åœ¨åå°å‘å¸ƒæ–°ç‰ˆæœ¬ä¹‹åï¼Œæ— æ³•ç«‹åˆ»å½±å“åˆ°æ‰€æœ‰ç°ç½‘ç”¨æˆ·ï¼Œä½†æœ€å·®æƒ…å†µä¸‹ï¼Œä¹Ÿåœ¨å‘å¸ƒä¹‹å 24 å°æ—¶ä¹‹å†…ä¸‹å‘æ–°ç‰ˆæœ¬ä¿¡æ¯åˆ°ç”¨æˆ·ã€‚ç”¨æˆ·ä¸‹æ¬¡æ‰“å¼€æ—¶ä¼šå…ˆ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-07T02:58:54.000Z"}],["meta",{"property":"article:published_time","content":"2020-12-19T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-01-07T02:58:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"å°ç¨‹åºæ›´æ–°æœºåˆ¶\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2020-12-19T00:00:00.000Z\\",\\"dateModified\\":\\"2025-01-07T02:58:54.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Leo\\",\\"url\\":\\"https://liaorenhua.github.io/blog_postgraduate/\\"}]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://liaorenhua.github.io/blog_postgraduate/blog_postgraduate/atom.xml","title":"ğ“›ğ“®ğ“¸ ğ“‘ğ“›ğ“¸ğ“– Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://liaorenhua.github.io/blog_postgraduate/blog_postgraduate/feed.json","title":"ğ“›ğ“®ğ“¸ ğ“‘ğ“›ğ“¸ğ“– JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://liaorenhua.github.io/blog_postgraduate/blog_postgraduate/rss.xml","title":"ğ“›ğ“®ğ“¸ ğ“‘ğ“›ğ“¸ğ“– RSS Feed"}]]},"headers":[{"level":2,"title":"æœªå¯åŠ¨æ—¶æ›´æ–°","slug":"æœªå¯åŠ¨æ—¶æ›´æ–°","link":"#æœªå¯åŠ¨æ—¶æ›´æ–°","children":[]},{"level":2,"title":"å¯åŠ¨æ—¶æ›´æ–°","slug":"å¯åŠ¨æ—¶æ›´æ–°","link":"#å¯åŠ¨æ—¶æ›´æ–°","children":[]}],"git":{"createdTime":1736126247000,"updatedTime":1736218734000,"contributors":[{"name":"liao_rh","username":"liao_rh","email":"993929808@qq.com","commits":3,"url":"https://github.com/liao_rh"}]},"readingTime":{"minutes":1.25,"words":374},"filePathRelative":"code/mini-app/guide/frame/update.md","localizedDate":"2020å¹´12æœˆ19æ—¥","excerpt":"","autoDesc":true}');export{r as comp,d as data};
