"use strict";(self.webpackChunkblog_postgraduate=self.webpackChunkblog_postgraduate||[]).push([[6266],{6262:(s,i)=>{i.A=(s,i)=>{const a=s.__vccOpts||s;for(const[s,n]of i)a[s]=n;return a}},7488:(s,i,a)=>{a.r(i),a.d(i,{comp:()=>d,data:()=>g});var n=a(641);const e=a.p+"assets/img/image-20210117221823485.2366439d.png",t=a.p+"assets/img/image-20210117223157306.b903ab41.png",l=a.p+"assets/img/image-20210117223134434.3d63bf3f.png",h=a.p+"assets/img/image-20210117223254593.d4342c70.png",p=a.p+"assets/img/image-20210117231350994.a5ff406c.png",k=a.p+"assets/img/image-20210117232009897.54c13ee7.png",r={},d=(0,a(6262).A)(r,[["render",function(s,i){return(0,n.uX)(),(0,n.CE)("div",null,i[0]||(i[0]=[(0,n.Fv)('<h1 id="监控远程-java-进程" tabindex="-1"><a class="header-anchor" href="#监控远程-java-进程"><span>监控远程 JAVA 进程</span></a></h1><h2 id="tomcat" tabindex="-1"><a class="header-anchor" href="#tomcat"><span>Tomcat</span></a></h2><p>可以通过「远程」功能来添加远程的 Tomcat 进程，不只是 Tomcat，只要是 Java 进程都可以</p><figure><img src="'+e+'" alt="image-20210117221823485" tabindex="0" loading="lazy"><figcaption>image-20210117221823485</figcaption></figure><p>但是连接远程进程是需要在远端进行配置的。拿 Tomcat 来说，需要修改 <code>Catalina.sh</code> 配置文件，也就是增加 JMX 相关参数</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>JAVA OPTS=&quot;$JAVA OPTS -Dcom.sun.management.jmxremote</span></span>\n<span class="line"><span>-Dcom.sun.management.jmxremote.port=9004</span></span>\n<span class="line"><span>-Dcom.sun.management.jmxremote.authenticate=false</span></span>\n<span class="line"><span>-Dcom.sun.management.jmxremote.ssl=false</span></span>\n<span class="line"><span>-Djava.net.preferlPv4Stack=true</span></span>\n<span class="line"><span>-Djava.rmi.server.hostname=10.110.3.62&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>port：访问到 jmx 服务的端口</li><li>authenticate：是否认证</li><li>ssl</li><li>preferlPv4Stack：优先使用 iPv4Stack</li><li>hostname：访问到该服务的 IP 地址，外部通过哪个 IP 能访问到本服务</li></ul><p>它是可以添加 JMX 和 jstatd 链接的</p><figure><img src="'+t+'" alt="image-20210117223157306" tabindex="0" loading="lazy"><figcaption>image-20210117223157306</figcaption></figure><figure><img src="'+l+'" alt="image-20210117223134434" tabindex="0" loading="lazy"><figcaption>image-20210117223134434</figcaption></figure><p>上图这样就可以连接上了，链接之后的就和上一节本地连接中的是一样的了</p><figure><img src="'+h+'" alt="image-20210117223254593" tabindex="0" loading="lazy"><figcaption>image-20210117223254593</figcaption></figure><h2 id="spring-boot-jar" tabindex="-1"><a class="header-anchor" href="#spring-boot-jar"><span>Spring boot Jar</span></a></h2><p>由于笔者手里没有 tomcat 程序，就使用我们练习的 spring boot 程序，打成 jar 包后，来启动</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mrcode@mrcode</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> java</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Dcom.sun.management.jmxremote</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Dcom.sun.management.jmxremote.port=9004</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Dcom.sun.management.jmxremote.authenticate=false</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Dcom.sun.management.jmxremote.ssl=false</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Djava.net.preferlPv4Stack=true</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Djava.rmi.server.hostname=127.0.0.1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -jar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> monitor-tuning-0.0.1-SNAPSHOT.jar</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">错误:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 找不到口令文件:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /Library/Internet</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/management/jmxremote.password</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sun.management.AgentConfigurationError</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">\tat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sun.management.jmxremote.ConnectorBootstrap.checkPasswordFile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ConnectorBootstrap.java:563</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">\tat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sun.management.jmxremote.ConnectorBootstrap.startRemoteConnectorServer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ConnectorBootstrap.java:426</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">\tat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sun.management.Agent.startAgent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Agent.java:262</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">\tat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sun.management.Agent.startAgent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Agent.java:452</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 mac 下发现报错了，于是去该路径看看，发现有一个 password 的模板文件，我们这里复制一份修改一下</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mrcode:chapter2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mrcode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /Library/Internet</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/management/jmxremote.</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">jmxremote.access</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">             jmxremote.password.template</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># mac 上要切换到 root  用户下才有权限</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mrcode:management</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mrcode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">su</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> -</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Password:</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mrcode:management</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root#</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jmxremote.password.template</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jmxremote.password</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 再次运行还是报错</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">错误:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 必须限制口令文件读取访问权限:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /Library/Internet</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/management/jmxremote.password</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 那么这个里面就说了，由于安全问题，该文件必须要限制它的权限，而且是文件的所有者才能进行访问</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 这里看看它的权限</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mrcode:management</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root#</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">total</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 64</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  wheel</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   3998</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Dec</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 16</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  2018</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jmxremote.access</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  wheel</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   2854</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Jan</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 17</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 23:01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jmxremote.password</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  wheel</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   2856</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Dec</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 16</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  2018</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jmxremote.password.template</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  wheel</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  14630</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Dec</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 16</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  2018</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> management.properties</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  wheel</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   3376</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Dec</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 16</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  2018</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> snmp.acl.template</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 修改文件权限为 600 也就是，只有文件拥有者有读写权限</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mrcode:management</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">chmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 600</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jmxremote.password</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mrcode:management</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jmxremote.password</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-------</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  wheel</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  2854</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Jan</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 17</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 23:01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jmxremote.password</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 解决所有的问题之后，再次运行就成功了</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mrcode:libs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">java</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Dcom.sun.management.jmxremote</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Dcom.sun.management.jmxremote.port=9004</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Dcom.sun</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> management.jmxremote.authenticate=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">false</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Dcom.sun</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> management.jmxremote.ssl=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">false</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Djava.net.preferlPv4Stack=true-Djava.rmi.server.hostname=127.0.0.1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -jar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> monitor-tuning-0.0.1-SNAPSHOT.jar</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="'+p+'" alt="image-20210117231350994" tabindex="0" loading="lazy"><figcaption>image-20210117231350994</figcaption></figure><p>由于不能写 localhost 或则 127.0.0.1 这种的，写了之后也会归类到本地，为什么会这样，你看看本地这个属性就明白了</p><figure><img src="'+k+'" alt="image-20210117232009897" tabindex="0" loading="lazy"><figcaption>image-20210117232009897</figcaption></figure><p>可以看到这个就是一个内置的方式。通过自己添加的 Visual GC 这个插件显示不支持此 JVM，可能还是有哪里有问题把。</p><h3 id="远程-jmx-用户名密码访问" tabindex="-1"><a class="header-anchor" href="#远程-jmx-用户名密码访问"><span>远程 jmx 用户名密码访问</span></a></h3><p>如果你怕你远程应用不设置用户密码，不安全的话，可以使用用户名密码进行访问，也就是前面说到过的 jmxremote.password 文件中，一行一个，比如</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># 用户名   密码</span></span>\n<span class="line"><span>jmxuser   111111</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div>',24)]))}]]),g=JSON.parse('{"path":"/monitor-tuning/02/02.html","title":"监控远程 JAVA 进程","lang":"zh-CN","frontmatter":{"description":"监控远程 JAVA 进程 Tomcat 可以通过「远程」功能来添加远程的 Tomcat 进程，不只是 Tomcat，只要是 Java 进程都可以 image-20210117221823485image-20210117221823485 但是连接远程进程是需要在远端进行配置的。拿 Tomcat 来说，需要修改 Catalina.sh 配置文件，也就是...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/blog_postgraduate/monitor-tuning/02/02.html"}],["meta",{"property":"og:site_name","content":"博客"}],["meta",{"property":"og:title","content":"监控远程 JAVA 进程"}],["meta",{"property":"og:description","content":"监控远程 JAVA 进程 Tomcat 可以通过「远程」功能来添加远程的 Tomcat 进程，不只是 Tomcat，只要是 Java 进程都可以 image-20210117221823485image-20210117221823485 但是连接远程进程是需要在远端进行配置的。拿 Tomcat 来说，需要修改 Catalina.sh 配置文件，也就是..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-06T09:50:51.000Z"}],["meta",{"property":"article:modified_time","content":"2025-01-06T09:50:51.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"监控远程 JAVA 进程\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-01-06T09:50:51.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Leo\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"Tomcat","slug":"tomcat","link":"#tomcat","children":[]},{"level":2,"title":"Spring boot Jar","slug":"spring-boot-jar","link":"#spring-boot-jar","children":[{"level":3,"title":"远程 jmx 用户名密码访问","slug":"远程-jmx-用户名密码访问","link":"#远程-jmx-用户名密码访问","children":[]}]}],"git":{"createdTime":1734580998000,"updatedTime":1736157051000,"contributors":[{"name":"liao_rh","username":"liao_rh","email":"993929808@qq.com","commits":3,"url":"https://github.com/liao_rh"}]},"readingTime":{"minutes":2.5,"words":749},"filePathRelative":"monitor-tuning/02/02.md","localizedDate":"2024年12月19日","excerpt":"\\n<h2>Tomcat</h2>\\n<p>可以通过「远程」功能来添加远程的 Tomcat 进程，不只是 Tomcat，只要是 Java 进程都可以</p>\\n<figure><figcaption>image-20210117221823485</figcaption></figure>\\n<p>但是连接远程进程是需要在远端进行配置的。拿 Tomcat 来说，需要修改 <code>Catalina.sh</code> 配置文件，也就是增加 JMX 相关参数</p>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" data-title=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>JAVA OPTS=\\"$JAVA OPTS -Dcom.sun.management.jmxremote</span></span>\\n<span class=\\"line\\"><span>-Dcom.sun.management.jmxremote.port=9004</span></span>\\n<span class=\\"line\\"><span>-Dcom.sun.management.jmxremote.authenticate=false</span></span>\\n<span class=\\"line\\"><span>-Dcom.sun.management.jmxremote.ssl=false</span></span>\\n<span class=\\"line\\"><span>-Djava.net.preferlPv4Stack=true</span></span>\\n<span class=\\"line\\"><span>-Djava.rmi.server.hostname=10.110.3.62\\"</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}')}}]);